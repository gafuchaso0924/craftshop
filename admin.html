<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>管理画面</title>
<style>
body {
  background:#111;
  color:#eee;
  font-family:sans-serif;
  padding:20px;
}
input,button {
  background:#1a1a1a;
  color:#eee;
  border:1px solid #444;
  padding:6px;
  margin:4px;
}
.admin { display:none; }
</style>
</head>
<body>

<h2>管理者ログイン</h2>
<input type="password" id="pw" placeholder="パスワード">
<button onclick="login()">ログイン</button>

<div class="admin" id="panel">
  <h3>在庫編集</h3>
  <textarea id="json" rows="15" cols="60"></textarea><br>
  <button onclick="save()">保存</button>
</div>

<script>
const PASSWORD = "gafukun0924"; // 必ず変更
let data = [];

function login() {
  if (pw.value === PASSWORD) {
    document.getElementById("panel").style.display = "block";
    fetch("data.json")
      .then(r=>r.json())
      .then(j=>{
        data=j;
        json.value = JSON.stringify(j, null, 2);
      });
  } else {
    alert("パスワードが違います");
  }
}

function save() {
  alert(
    "⚠ GitHub Pagesでは\n" +
    "ブラウザから直接保存はできません。\n\n" +
    "編集後は GitHub 上で data.json を上書きしてください。"
  );
}
</script>

</body>
</html>
